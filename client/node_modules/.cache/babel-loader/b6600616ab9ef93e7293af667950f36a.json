{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React, { Component } from 'react';\nimport '../style/login.css';\nimport MSignUp from './ManagerSignUp';\nimport WSignUp from './WorkerSignUp';\nimport { send } from '../HelperFunctions';\nimport HomePg from './Homepg';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n\n    _this.validate = function () {\n      var usernameError = \"\";\n      var passwordError = \"\";\n\n      if (!_this.state.username) {\n        usernameError = \"user name cannot be blank\";\n      }\n\n      if (!_this.state.password) {\n        usernameError = \"password cannot be blank\";\n      }\n\n      if (usernameError || passwordError) {\n        _this.setState({\n          usernameError: usernameError,\n          passwordError: passwordError\n        });\n\n        return false;\n      }\n\n      return true;\n    };\n\n    _this.state = {\n      username: '',\n      password: '',\n      usernameError: \"\",\n      passwordError: \"\"\n    };\n    _this.ReadInput = _this.ReadInput.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleWSignup = _this.handleWSignup.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"ReadInput\",\n    value: function ReadInput(event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      event.preventDefault();\n      var _this$state = this.state,\n          username = _this$state.username,\n          password = _this$state.password;\n      send(\"POST\", \"/signin/\", {\n        username: username,\n        password: password\n      }, function (err, res) {\n        if (err) console.log(err);else {\n          console.log(\"login \");\n          this.props.handleAuthenticate(true);\n        }\n      }.bind(this));\n    }\n  }, {\n    key: \"handleWSignup\",\n    value: function handleWSignup(event) {\n      event.preventDefault();\n      var _this$state2 = this.state,\n          username = _this$state2.username,\n          password = _this$state2.password;\n      var type = 'worker';\n      send(\"POST\", \"/signup/\", {\n        username: username,\n        password: password,\n        type: type\n      }, function (err, res) {\n        if (err) console.log(err);else {\n          this.props.handleAuthenticate();\n        }\n      }.bind(this));\n      console.log('Username: ' + username + '  | Password: ' + password);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"form_container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"authenticate_form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"authenticate_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Login or Sign up\"), React.createElement(\"input\", {\n        className: \"form_element\",\n        placeholder: \"Username\",\n        type: \"text\",\n        value: this.state.username,\n        onChange: this.ReadInput,\n        name: \"username\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), this.state.usernameError ? React.createElement(\"div\", {\n        className: \"loginErrorMsg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, this.state.usernameError) : null, React.createElement(\"input\", {\n        className: \"form_element\",\n        placeholder: \"Password\",\n        type: \"password\",\n        value: this.state.password,\n        onChange: this.ReadInput,\n        name: \"password\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), this.state.passwordError ? React.createElement(\"div\", {\n        className: \"loginErrorMsg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, this.state.passwordError) : null, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.handleSubmit,\n        type: \"submit\",\n        id: \"loginSubmit\",\n        className: \"authenticateBtn btn submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"button\", {\n        onClick: this.handleWSignup,\n        type: \"submit\",\n        id: \"signUpSubmit\",\n        className: \"authenticateBtn btn submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Sign Up\"))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["C:\\Users\\Jun\\Documents\\UTSC\\C09\\project-flex\\client\\src\\components\\Login.js"],"names":["React","Component","MSignUp","WSignUp","send","HomePg","Login","validate","usernameError","passwordError","state","username","password","setState","ReadInput","bind","handleSubmit","handleWSignup","event","target","name","value","preventDefault","err","res","console","log","props","handleAuthenticate","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport '../style/login.css'\r\nimport MSignUp from './ManagerSignUp';\r\nimport WSignUp from './WorkerSignUp';\r\nimport {send} from '../HelperFunctions';\r\nimport HomePg from './Homepg';\r\n\r\nclass Login extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      username: '', \r\n      password: '',\r\n      usernameError: \"\",\r\n      passwordError: \"\"\r\n    };\r\n    this.ReadInput = this.ReadInput.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleWSignup = this.handleWSignup.bind(this);\r\n  }\r\n\r\n  validate = () => {\r\n    let usernameError = \"\";\r\n    let passwordError = \"\";\r\n\r\n    if(!this.state.username) {\r\n      usernameError = \"user name cannot be blank\";\r\n    }\r\n\r\n    if(!this.state.password) {\r\n      usernameError = \"password cannot be blank\";\r\n    }\r\n\r\n    if (usernameError || passwordError) {\r\n      this.setState({ usernameError, passwordError });\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  ReadInput(event) {\r\n\t\tlet {name, value} = event.target;\r\n\t\tthis.setState({[name]: value}); \r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    let {username, password} = this.state;\r\n    send(\"POST\", \"/signin/\", {username, password}, function(err, res){\r\n      if(err) console.log(err);\r\n      else{\r\n          console.log(\"login \")\r\n          this.props.handleAuthenticate(true);\r\n      }\r\n    }.bind(this));    \r\n  }\r\n\r\n  handleWSignup(event) {\r\n    event.preventDefault();\r\n    let {username, password} = this.state;\r\n    let type = 'worker';\r\n    send(\"POST\", \"/signup/\", {username, password, type}, function(err, res){\r\n      if(err) console.log(err);\r\n      else{\r\n        this.props.handleAuthenticate();\r\n      }\r\n    }.bind(this));\r\n    console.log('Username: ' + username + '  | Password: ' + password);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div className=\"form_container\">\r\n          <form className=\"authenticate_form\">\r\n            <div className=\"authenticate_title\">Login or Sign up</div>\r\n            <input className=\"form_element\" placeholder=\"Username\" type=\"text\" value={this.state.username} onChange={this.ReadInput} name=\"username\" required/>\r\n            {this.state.usernameError ? <div className=\"loginErrorMsg\">{this.state.usernameError}</div> : null}\r\n            <input className=\"form_element\" placeholder=\"Password\" type=\"password\" value={this.state.password} onChange={this.ReadInput} name=\"password\" required/>\r\n            {this.state.passwordError ? <div className=\"loginErrorMsg\">{this.state.passwordError}</div> : null}\r\n            <div>\r\n              <button onClick={this.handleSubmit} type=\"submit\" id=\"loginSubmit\" className=\"authenticateBtn btn submit\">Login</button>\r\n              <button onClick={this.handleWSignup} type=\"submit\" id=\"signUpSubmit\" className=\"authenticateBtn btn submit\">Sign Up</button>\r\n            </div>\r\n          \r\n          </form>\r\n        </div>\r\n      );\r\n  }\r\n}\r\n\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}