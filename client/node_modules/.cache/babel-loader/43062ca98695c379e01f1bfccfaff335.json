{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\src\\\\components\\\\orders.js\";\nimport React, { Component } from 'react';\nimport { send } from '../HelperFunctions';\nimport Order from './order';\n\nvar Orders =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Orders, _Component);\n\n  function Orders(props) {\n    var _this;\n\n    _classCallCheck(this, Orders);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Orders).call(this, props));\n\n    _this.getOrders = function () {\n      send(\"GET\", \"/api/orders/false/\", null, function (err, res) {\n        if (err) console.log(err);else {\n          this.setState({\n            orders: res\n          });\n        }\n      }.bind(_assertThisInitialized(_assertThisInitialized(_this))));\n    };\n\n    _this.removeOrder = function (orderNumber) {\n      var data = {\n        orderNumber: orderNumber\n      };\n      send(\"DELETE\", \"/api/order/\", data, function (err, res) {\n        if (err) console.log(err);else {\n          var filteredOrders = this.state.orders.filter(function (order) {\n            return order.order_number !== orderNumber;\n          });\n          this.setState({\n            orders: filteredOrders\n          });\n        }\n      }.bind(_assertThisInitialized(_assertThisInitialized(_this))));\n    };\n\n    _this.editOrder = function (orderNumber) {\n      _this.props.editOrder(orderNumber);\n    };\n\n    _this.state = {\n      orders: []\n    };\n\n    _this.getOrders();\n\n    return _this;\n  } // retrieve all currently processing orders from the database\n\n\n  _createClass(Orders, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"orders\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, this.state.orders.map(function (order) {\n        return React.createElement(Order, {\n          key: order.order_number,\n          removeOrder: function removeOrder() {\n            return _this2.removeOrder(order.order_number);\n          },\n          order: order,\n          editOrder: function editOrder() {\n            return _this2.editOrder(order.order_number);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        });\n      }));\n    }\n  }]);\n\n  return Orders;\n}(Component);\n\nexport { Orders as default };","map":{"version":3,"sources":["C:\\Users\\Jun\\Documents\\UTSC\\C09\\project-flex\\client\\src\\components\\orders.js"],"names":["React","Component","send","Order","Orders","props","getOrders","err","res","console","log","setState","orders","bind","removeOrder","orderNumber","data","filteredOrders","state","filter","order","order_number","editOrder","map"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,IAAR,QAAmB,oBAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;IAEqBC,M;;;;;AAEjB,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,gFAAMA,KAAN;;AADe,UAWnBC,SAXmB,GAWP,YAAM;AACdJ,MAAAA,IAAI,CAAC,KAAD,EAAQ,oBAAR,EAA8B,IAA9B,EAAoC,UAASK,GAAT,EAAcC,GAAd,EAAmB;AACvD,YAAGD,GAAH,EAAQE,OAAO,CAACC,GAAR,CAAYH,GAAZ,EAAR,KACI;AACA,eAAKI,QAAL,CAAc;AACVC,YAAAA,MAAM,EAAEJ;AADE,WAAd;AAGH;AACJ,OAPuC,CAOtCK,IAPsC,uDAApC,CAAJ;AAQH,KApBkB;;AAAA,UAsBnBC,WAtBmB,GAsBL,UAACC,WAAD,EAAiB;AAC3B,UAAIC,IAAI,GAAG;AAACD,QAAAA,WAAW,EAAEA;AAAd,OAAX;AACAb,MAAAA,IAAI,CAAC,QAAD,EAAW,aAAX,EAA0Bc,IAA1B,EAAgC,UAAST,GAAT,EAAcC,GAAd,EAAmB;AACnD,YAAGD,GAAH,EAAQE,OAAO,CAACC,GAAR,CAAYH,GAAZ,EAAR,KACI;AACA,cAAIU,cAAc,GAAG,KAAKC,KAAL,CAAWN,MAAX,CAAkBO,MAAlB,CAAyB,UAAAC,KAAK;AAAA,mBAAIA,KAAK,CAACC,YAAN,KAAuBN,WAA3B;AAAA,WAA9B,CAArB;AACA,eAAKJ,QAAL,CAAc;AACVC,YAAAA,MAAM,EAAEK;AADE,WAAd;AAGH;AACJ,OARmC,CAQlCJ,IARkC,uDAAhC,CAAJ;AASH,KAjCkB;;AAAA,UAmCnBS,SAnCmB,GAmCP,UAACP,WAAD,EAAiB;AACzB,YAAKV,KAAL,CAAWiB,SAAX,CAAqBP,WAArB;AACH,KArCkB;;AAGf,UAAKG,KAAL,GAAa;AACTN,MAAAA,MAAM,EAAE;AADC,KAAb;;AAIA,UAAKN,SAAL;;AAPe;AAQlB,G,CAED;;;;;6BA6BS;AAAA;;AACL,aACI;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKY,KAAL,CAAWN,MAAX,CAAkBW,GAAlB,CAAsB,UAAAH,KAAK;AAAA,eACxB,oBAAC,KAAD;AAAO,UAAA,GAAG,EAAEA,KAAK,CAACC,YAAlB;AAAgC,UAAA,WAAW,EAAE;AAAA,mBAAM,MAAI,CAACP,WAAL,CAAiBM,KAAK,CAACC,YAAvB,CAAN;AAAA,WAA7C;AAAyF,UAAA,KAAK,EAAED,KAAhG;AACA,UAAA,SAAS,EAAE;AAAA,mBAAM,MAAI,CAACE,SAAL,CAAeF,KAAK,CAACC,YAArB,CAAN;AAAA,WADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADwB;AAAA,OAA3B,CADL,CADJ;AAOH;;;;EAjD+BpB,S;;SAAfG,M","sourcesContent":["import React, { Component } from 'react';\nimport {send} from '../HelperFunctions';\nimport Order from './order';\n\nexport default class Orders extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            orders: []\n        };\n\n        this.getOrders();\n    }\n\n    // retrieve all currently processing orders from the database\n    getOrders = () => {\n        send(\"GET\", \"/api/orders/false/\", null, function(err, res) {\n            if(err) console.log(err);\n            else{\n                this.setState({\n                    orders: res\n                });\n            }\n        }.bind(this));\n    }\n\n    removeOrder = (orderNumber) => {\n        let data = {orderNumber: orderNumber}\n        send(\"DELETE\", \"/api/order/\", data, function(err, res) {\n            if(err) console.log(err);\n            else{\n                let filteredOrders = this.state.orders.filter(order => order.order_number !== orderNumber);\n                this.setState({\n                    orders: filteredOrders\n                });\n            }\n        }.bind(this));\n    }\n\n    editOrder = (orderNumber) => {\n        this.props.editOrder(orderNumber);\n    }\n\n    render() {\n        return (\n            <div className='orders'>\n                {this.state.orders.map(order => \n                    <Order key={order.order_number} removeOrder={() => this.removeOrder(order.order_number)} order={order}\n                    editOrder={() => this.editOrder(order.order_number)}/>)}\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}