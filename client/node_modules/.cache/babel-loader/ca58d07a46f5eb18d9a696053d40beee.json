{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Jun\\\\Documents\\\\UTSC\\\\C09\\\\project-flex\\\\client\\\\src\\\\components\\\\SelectCalendarComponent.js\";\nimport React from 'react';\nimport WeekCalendar from 'react-week-calendar';\nimport { send } from '../HelperFunctions';\nimport CalendarComponent from './CalendarComponent';\n\nvar SelectCalendarComponent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SelectCalendarComponent, _React$Component);\n\n  function SelectCalendarComponent() {\n    var _this;\n\n    _classCallCheck(this, SelectCalendarComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SelectCalendarComponent).call(this));\n    _this.state = {\n      //lastUid: 1,\n      //selectedIntervals: [],\n      calendar: {},\n      c_id: -1,\n      calendars: []\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SelectCalendarComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      send(\"GET\", \"/api/calendars/?limit=\" + \"5\", {}, function (err, res) {\n        if (err) console.log(err);else {\n          this.setState({\n            calendars: res,\n            c_id: res.length > 0 ? res[0].c_id : this.state.c_id,\n            calendar: res.length > 0 ? res[0] : this.state.calendar\n          });\n        }\n      }.bind(this));\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      if (name === \"c_id\" && value > -1) {\n        var _this$setState;\n\n        //We have to update c_id and calendar\n        var newCal;\n\n        for (var i = 0; i < this.state.calendars.length; i++) {\n          if (this.state.calendars[i].c_id == value) {\n            newCal = this.state.calendars[i];\n          }\n        }\n\n        this.setState((_this$setState = {}, _defineProperty(_this$setState, name, value), _defineProperty(_this$setState, \"calendar\", newCal), _this$setState));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var calendarRes = null;\n      var optionsRes = [];\n\n      if (this.state.c_id > -1) {\n        calendarRes = React.createElement(CalendarComponent, {\n          key: this.state.c_id,\n          calendar: this.state.calendar,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        });\n\n        for (var i = 0; i < this.state.calendars.length; i++) {\n          var c = this.state.calendars[i];\n          optionsRes.push(React.createElement(\"option\", {\n            key: c.c_id,\n            value: c.c_id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, c.name));\n        }\n      } //console.log(this.state.calendar);\n\n\n      return React.createElement(\"div\", {\n        className: \"calendarContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, this.state.name), React.createElement(\"select\", {\n        value: this.state.c_id,\n        onChange: this.handleChange,\n        className: \"selectInputs\",\n        name: \"c_id\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"--Please Select A Calendar--\"), optionsRes), calendarRes);\n    }\n  }]);\n\n  return SelectCalendarComponent;\n}(React.Component);\n\nexport default SelectCalendarComponent;","map":{"version":3,"sources":["C:\\Users\\Jun\\Documents\\UTSC\\C09\\project-flex\\client\\src\\components\\SelectCalendarComponent.js"],"names":["React","WeekCalendar","send","CalendarComponent","SelectCalendarComponent","state","calendar","c_id","calendars","handleChange","bind","err","res","console","log","setState","length","event","target","name","value","newCal","i","calendarRes","optionsRes","c","push","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport WeekCalendar from 'react-week-calendar';\nimport {send} from '../HelperFunctions';\nimport CalendarComponent from './CalendarComponent';\n\nclass SelectCalendarComponent extends React.Component {\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.state = {\n\t\t\t//lastUid: 1,\n\t\t\t//selectedIntervals: [],\n\t\t\tcalendar: {},\n\t\t\tc_id: -1,\n\t\t\tcalendars: []\n\t\t};\n\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tsend(\"GET\", \"/api/calendars/?limit=\" + \"5\", {}, function(err, res) {\n\t\t\tif(err) console.log(err);\n\t\t\telse{\n\t\t\t\tthis.setState({\n\t\t\t\t\tcalendars: res,\n\t\t\t\t\tc_id: (res.length > 0) ? res[0].c_id : this.state.c_id,\n\t\t\t\t\tcalendar: (res.length > 0) ? res[0] : this.state.calendar\n\t\t\t\t});\n\t\t\t}\n\t\t}.bind(this));\n\t}\n\n\thandleChange(event){\n\t\tlet {name, value} = event.target;\n\t\tif(name === \"c_id\" && value > -1){\n\t\t\t//We have to update c_id and calendar\n\t\t\tlet newCal;\n\t\t\tfor(let i = 0; i < this.state.calendars.length; i++){\n\t\t\t\tif (this.state.calendars[i].c_id == value){\n\t\t\t\t\tnewCal = this.state.calendars[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.setState({[name]: value, calendar: newCal});\n\t\t}\n\t}\n\n\trender() {\n\t\tlet calendarRes = null;\n\t\tlet optionsRes = [];\n\t\tif(this.state.c_id > -1) {\n\t\t\tcalendarRes = (\n\t\t\t\t\t<CalendarComponent key={this.state.c_id} calendar={this.state.calendar}/>\n\t\t\t\t);\n\n\t\t\tfor(let i = 0; i < this.state.calendars.length; i++){\n\t\t\t\tlet c = this.state.calendars[i];\n\t\t\t\toptionsRes.push(<option key={c.c_id} value={c.c_id}>{c.name}</option>)\n\t\t\t}\n\t\t}\n\t\t//console.log(this.state.calendar);\n\t\treturn (\n\t\t\t<div className=\"calendarContainer\">\n\t\t\t\t<h3>{this.state.name}</h3>\n\t\t\t\t<select value={this.state.c_id} onChange={this.handleChange} className=\"selectInputs\" name=\"c_id\"> \n\t\t\t\t\t<option value=\"-1\">--Please Select A Calendar--</option>\n\t\t\t\t\t{optionsRes}\n\t\t\t\t</select>\n\t\t\t\t{calendarRes}\n\t\t\t</div>\n\t\t\t)\n\t}\n}\n\nexport default SelectCalendarComponent;"]},"metadata":{},"sourceType":"module"}